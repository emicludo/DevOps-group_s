[[datasource]]
name = Prometheus
type = prometheus
url = http://localhost:9090
access = direct
basicAuth = true
basicAuthUser = admin
basicAuthPassword = admin

[[dashboards]]
name = Prometheus CPU Metrics
url = /prometheus-cpu
json = {"title":"Prometheus CPU Metrics","panels":[{"type":"graph","title":"CPU Usage","datasource":"Prometheus","targets":[{"expr":"100 - (avg by(instance) (irate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)","legendFormat":"usage","refId":"A"}]}]}]}

[[dashboards]]
name = Prometheus Memory Metrics
url = /prometheus-memory
json = {"title":"Prometheus Memory Metrics","panels":[{"type":"graph","title":"Memory Usage","datasource":"Prometheus","targets":[{"expr":"(node_memory_MemTotal_bytes - (node_memory_MemFree_bytes + node_memory_Cached_bytes + node_memory_Buffers_bytes)) / node_memory_MemTotal_bytes * 100","legendFormat":"used","refId":"A"},{"expr":"node_memory_MemFree_bytes / node_memory_MemTotal_bytes * 100","legendFormat":"free","refId":"B"}]}]}
